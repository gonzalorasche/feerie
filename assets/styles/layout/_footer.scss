@use '../base/variables' as v;

.footer {
    padding: 5rem 0 3rem; 
    background-color: #3d0a17; // Tu acento $night-600
    position: relative;
    overflow: hidden;
    border-top: 1px solid rgba(v.$accent-petal, 0.1);

    /* --- CAPAS DE TEXTURA TEATRAL --- */
    
    // 1. Grano de película analógica
    &::before {
        content: "";
        position: absolute;
        inset: -5%; // Un poco más grande para la animación
        z-index: 1;
        opacity: 0.04;
        pointer-events: none;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        animation: grainAnimation 1s steps(2) infinite;
    }

    // 2. Viñeta (Sombra en las esquinas como reflector)
    &::after {
        content: "";
        position: absolute;
        inset: 0;
        z-index: 2;
        background: radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.4) 100%);
        pointer-events: none;
    }

    &__container {
        position: relative;
        z-index: 3; // Por encima de las texturas
        width: 100%;
        max-width: v.$container-max;
        margin: 0 auto;
        padding: 0 v.$container-gutter;
        display: flex;
        flex-direction: column;
        gap: 4rem;
    }

    /* --- BLOQUE SUPERIOR: LOGO | CENTRO | REDES --- */

    &__top {
        display: grid;
        grid-template-columns: 1fr auto 1fr; 
        align-items: center;
        gap: 2rem;

        @media (max-width: 1024px) {
            grid-template-columns: 1fr;
            text-align: center;
            gap: 3.5rem;
        }
    }

    &__logo {
        display: flex;
        justify-content: flex-start;
        @media (max-width: 1024px) { justify-content: center; }
        
        a { 
            line-height: 0; 
            transition: opacity 0.3s ease; 
            &:hover { opacity: 0.7; } 
        }
        img { height: 35px; width: auto; }
    }

    &__center {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
    }

    &__phone {
        font-family: v.$font-body;
        font-weight: v.$weight-bold;
        font-size: 1.4rem;
        color: v.$accent-petal;
        letter-spacing: 0.1em;
        text-decoration: none;
        transition: transform 0.3s ease, text-shadow 0.3s ease;

        &:hover {
            transform: scale(1.05);
            text-shadow: 0 0 15px rgba(v.$accent-petal, 0.4);
        }
    }

    &__nav {
        display: flex;
        flex-direction: row; 
        gap: 2.5rem;

        @media (max-width: 650px) {
            flex-direction: column; 
            gap: 1.2rem;
        }

        a {
            color: v.$bone-100;
            text-transform: uppercase;
            font-family: v.$font-body;
            font-size: 0.8rem;
            letter-spacing: 0.25em;
            transition: all 0.3s ease;
            opacity: 0.8;

            &:hover {
                color: v.$accent-petal;
                opacity: 1;
                letter-spacing: 0.35em;
            }
        }
    }

    &__social {
        display: flex;
        justify-content: flex-end;
        gap: 2.5rem;
        @media (max-width: 1024px) { justify-content: center; }
        
        a img {
            width: 22px;
            height: 22px;
            filter: brightness(0) invert(1);
            transition: transform 0.3s ease;
            &:hover { transform: translateY(-3px) scale(1.1); }
        }
    }

    /* --- BLOQUE INFERIOR: LEGALES Y BRICKELL --- */

    &__bottom {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2.5rem;
        border-top: 1px solid rgba(v.$bone-300, 0.08);
        padding-top: 3rem;

        .legal {
            font-size: 0.65rem;
            color: rgba(v.$bone-300, 0.3);
            letter-spacing: 0.15em;
            text-transform: uppercase;
        }

        .brickell {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;

            span { 
                font-size: 0.55rem; 
                text-transform: uppercase; 
                color: rgba(v.$bone-300, 0.2); 
                letter-spacing: 0.2em; 
            }

            img { 
                height: 14px; 
                opacity: 0.5; 
                transition: opacity 0.3s ease; 
                &:hover { opacity: 1; } 
            }
        }
    }
}

/* Animación de parpadeo de película antigua */
@keyframes grainAnimation {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-0.5%, -0.5%); }
    30% { transform: translate(0.5%, 0.5%); }
    50% { transform: translate(-0.2%, 0.7%); }
    70% { transform: translate(0.7%, -0.2%); }
}